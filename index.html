<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <title>GANESH ¬∑ premium matka</title>
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Google Font: Outfit (modern, clean) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Outfit', sans-serif;
      background: radial-gradient(circle at 20% 30%, #0b1729, #030712);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      color: #e2e8f0;
    }

    #app {
      width: 100%;
      max-width: 460px;
      margin: 0 auto;
    }

    /* glass card */
    .page {
      background: rgba(18, 28, 40, 0.7);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid rgba(56, 189, 248, 0.2);
      border-radius: 2.5rem;
      padding: 2rem 1.5rem;
      box-shadow: 0 30px 50px -20px rgba(0,0,0,0.8), 0 0 0 1px rgba(56,189,248,0.1) inset;
      animation: pageEnter 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      display: none;
    }

    .page.active {
      display: block;
    }

    @keyframes pageEnter {
      0% { opacity: 0; transform: scale(0.96) translateY(10px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }

    h2 {
      font-size: 2.4rem;
      font-weight: 700;
      background: linear-gradient(135deg, #38bdf8, #818cf8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: center;
      margin-bottom: 1.2rem;
      letter-spacing: -0.02em;
    }

    .logo-banner {
      width: 100%;
      margin: 1rem 0 1.5rem;
      border-radius: 2rem;
      overflow: hidden;
      border: 2px solid #38bdf8;
      box-shadow: 0 15px 30px -15px #0f172a;
      background: #0b1a2a;
    }

    .logo-banner img {
      width: 100%;
      height: auto;
      display: block;
      filter: brightness(1.05) contrast(1.1);
    }

    .big-image {
      width: 100%;
      border-radius: 2rem;
      border: 2px solid #38bdf8;
      overflow: hidden;
      margin: 1.2rem 0;
      box-shadow: 0 15px 30px -15px #00000080;
      transition: transform 0.3s ease;
    }

    .big-image:hover {
      transform: scale(1.02);
    }

    .big-image img {
      width: 100%;
      height: auto;
      display: block;
    }

    .input-group {
      margin-bottom: 1.5rem;
    }

    .input-group label {
      display: block;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #94a3b8;
      margin-bottom: 0.4rem;
      margin-left: 0.8rem;
    }

    .input-wrapper {
      position: relative;
    }

    .input-wrapper i {
      position: absolute;
      left: 1.2rem;
      top: 50%;
      transform: translateY(-50%);
      color: #38bdf8;
      font-size: 1.2rem;
      opacity: 0.8;
    }

    .input-wrapper input {
      width: 100%;
      background: #0f1a2b;
      border: 1px solid #2d4055;
      border-radius: 3rem;
      padding: 1.2rem 1.5rem 1.2rem 3.2rem;
      font-size: 1rem;
      font-family: 'Outfit', sans-serif;
      color: #f1f5f9;
      outline: none;
      transition: border 0.2s, box-shadow 0.2s;
      box-shadow: inset 0 4px 10px rgba(0,0,0,0.6);
    }

    .input-wrapper input:focus {
      border-color: #38bdf8;
      box-shadow: 0 0 0 3px rgba(56,189,248,0.2), inset 0 2px 8px black;
    }

    .input-wrapper input::placeholder {
      color: #4a607a;
      font-weight: 300;
    }
    .btn {
  display: block;
  width: 100%;
  padding: 1.2rem;
  border: none;
  border-radius: 3rem;
  font-weight: 700;
  font-size: 1.2rem;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s ease;
  margin: 1.8rem 0 1.2rem;
  background: linear-gradient(135deg, #38bdf8, #6366f1);
  color: white;
  border: 1px solid rgba(255,255,255,0.2);
  box-shadow: 0 15px 25px -12px #38bdf8, 0 4px 12px rgba(0,0,0,0.5);
  position: relative;
  overflow: hidden;
}

.btn::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s;
}

.btn:hover::after {
  left: 100%;
}

.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 22px 30px -10px #38bdf8;
}

.btn-small {
  padding: 0.9rem;
  font-size: 1rem;
  margin: 0.8rem 0;
}

.btn:disabled {
  opacity: 0.5;
  pointer-events: none;
}

.contact-card {
  background: rgba(15, 26, 43, 0.7);
  border-radius: 2rem;
  padding: 1.4rem 1rem;
  margin: 1.8rem 0;
  border: 1px solid #38bdf8;
  text-align: center;
  box-shadow: 0 8px 20px -12px black;
}

.whatsapp-link {
  display: inline-flex;
  align-items: center;
  gap: 0.6rem;
  background: #0e1a2a;
  color: #e2e8f0;
  padding: 0.7rem 1.8rem;
  border-radius: 3rem;
  text-decoration: none;
  font-weight: 600;
  border: 1px solid #38bdf8;
  margin: 0.5rem 0;
  transition: background 0.2s, transform 0.1s;
}

.whatsapp-link i {
  color: #25D366;
  font-size: 1.3rem;
}

.whatsapp-link:hover {
  background: #1a2b40;
  transform: scale(1.02);
}

.market-list {
  list-style: none;
}

.market-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.2rem;
  background: rgba(18, 30, 45, 0.8);
  border-radius: 2rem;
  margin-bottom: 0.8rem;
  border: 1px solid #2d4055;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 4px 8px rgba(0,0,0,0.4);
}

.market-item:hover {
  transform: translateX(8px);
  border-color: #38bdf8;
  box-shadow: 0 8px 16px rgba(56,189,248,0.2);
}

.market-item::before {
  content: '\f054';
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
  color: #38bdf8;
  margin-right: 0.8rem;
  font-size: 0.9rem;
  transition: transform 0.2s;
}

.market-item:hover::before {
  transform: translateX(4px);
}

.market-time {
  background: #1e3349;
  color: #b0d4f0;
  padding: 0.3rem 1rem;
  border-radius: 2rem;
  font-size: 0.8rem;
  font-weight: 600;
}

.notice {
  background: #0f1a2b;
  color: #cbd5e1;
  padding: 1.2rem;
  border-radius: 2rem;
  font-size: 0.85rem;
  line-height: 1.6;
  margin: 1.8rem 0;
  border-left: 6px solid #38bdf8;
  white-space: pre-line;
  box-shadow: inset 0 0 15px rgba(0,20,40,0.8);
}

.plan-box {
  display: flex;
  gap: 0.8rem;
  margin: 1.5rem 0;
}

.plan {
  flex: 1;
  background: #0f1a2b;
  border: 2px solid #2d4055;
  border-radius: 2rem;
  padding: 1.2rem 0.5rem;
  text-align: center;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  color: #a0b8d0;
}

.plan.selected {
  border-color: #38bdf8;
  background: #1a2f48;
  color: #e2e8f0;
  transform: scale(1.02);
  box-shadow: 0 10px 20px -8px #38bdf8;
}

.qr-image {
  width: 180px;
  height: 180px;
  border-radius: 2rem;
  border: 3px solid #38bdf8;
  box-shadow: 0 15px 25px -12px black;
  object-fit: cover;
  display: block;
  margin: 1.5rem auto;
}
        .detail-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin: 1.8rem 0;
    }

    .detail-card {
      background: #0f1a2b;
      border: 1px solid #38bdf8;
      border-radius: 1.8rem;
      padding: 1.2rem 0.5rem;
      text-align: center;
      transition: all 0.2s;
      box-shadow: 0 12px 20px -12px black;
    }

    .detail-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 18px 25px -10px #38bdf8;
    }

    .detail-card h4 {
      color: #38bdf8;
      margin-bottom: 0.5rem;
      font-weight: 600;
      font-size: 1rem;
    }

    .detail-numbers {
      font-size: 1.3rem;
      font-weight: 700;
      color: #e2e8f0;
    }

    /* navigation and extra refresh buttons */
    .nav-bar {
      display: flex;
      justify-content: space-between;
      margin: 1.5rem 0 0.5rem;
    }

    .nav-btn {
      background: none;
      border: none;
      color: #38bdf8;
      font-weight: 600;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      cursor: pointer;
      padding: 0.6rem 1.2rem;
      border-radius: 3rem;
      transition: all 0.2s;
      background: rgba(56,189,248,0.05);
      border: 1px solid rgba(56,189,248,0.2);
    }

    .nav-btn:hover {
      background: rgba(56,189,248,0.15);
      transform: scale(1.05);
      border-color: #38bdf8;
    }

    .extra-refresh {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 1rem;
    }

    .extra-refresh .nav-btn {
      background: rgba(56,189,248,0.1);
    }

    /* toast notification for reload */
    #toast {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      background: #1e2a3a;
      color: #e2e8f0;
      padding: 0.8rem 1.8rem;
      border-radius: 3rem;
      border: 1px solid #38bdf8;
      box-shadow: 0 10px 25px -5px black;
      font-size: 1rem;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      z-index: 10000;
      opacity: 0;
      transition: opacity 0.3s;
      pointer-events: none;
    }

    #toast.show {
      opacity: 1;
    }

    .timer-message {
      text-align: center;
      font-size: 1rem;
      margin: 1rem 0;
      padding: 0.8rem;
      border-radius: 3rem;
      background: #0f1a2b;
      border: 1px solid #38bdf8;
      color: #b0d4f0;
      animation: pulseBlue 1.5s infinite;
    }

    @keyframes pulseBlue {
      0% { opacity: 1; }
      50% { opacity: 0.7; }
      100% { opacity: 1; }
    }

    .error-message {
      color: #f87171;
      font-size: 0.9rem;
      text-align: center;
      margin: -0.5rem 0 1rem;
      background: #2f1c1c;
      padding: 0.6rem;
      border-radius: 3rem;
      border: 1px solid #f87171;
    }

    .disclaimer {
      font-size: 0.6rem;
      color: #7f8ea3;
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid #2d4055;
      text-align: justify;
      max-height: 100px;
      overflow-y: auto;
    }

    /* profile and info pages additional styles */
    .profile-info {
      background: #0f1a2b;
      border-radius: 2rem;
      padding: 1.5rem;
      margin: 1.5rem 0;
      border: 1px solid #38bdf8;
      text-align: center;
    }

    .info-grid {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .info-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      background: rgba(0,0,0,0.2);
      border-radius: 2rem;
      border: 1px solid #2d4055;
    }

    .info-item i {
      color: #38bdf8;
      font-size: 1.3rem;
      width: 2rem;
    }
  </style>
</head>
<body>
  <div id="toast"><i class="fas fa-sync-alt"></i> Page reloaded</div>
  <div id="app">
    <!-- LOGIN PAGE (1) -->
<div id="login-page" class="page active">
  <div class="extra-refresh">
    <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
  </div>
  <h2>GANESH</h2>
  <div class="logo-banner">
    <img src="https://i.supaimg.com/d026f774-60e1-4925-88e1-75281544a80e/c33ecce6-da20-4047-a0ce-df100fbd6657.png" alt="Ganesh Logo">
  </div>
  <div style="text-align:center; margin-bottom:1.5rem;">
    <div style="font-weight:500; color:#94a3b8;">MOST TRUSTED MATKA GUESSING</div>
    <div style="font-size:0.85rem; color:#64748b;">DATE FIX GAME PLATFORM</div>
  </div>

  <div class="input-group">
    <label>ENTER MOBILE NUMBER</label>
    <div class="input-wrapper">
      <i class="fas fa-mobile-alt"></i>
      <input type="tel" id="mobile" placeholder="9876543210">
    </div>
  </div>
  <div class="input-group">
    <label>ENTER PASSWORD</label>
    <div class="input-wrapper">
      <i class="fas fa-lock"></i>
      <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    </div>
  </div>

  <div id="login-error" class="error-message" style="display: none;"></div>

  <button class="btn" id="login-btn">LOGIN</button>

  <div class="contact-card">
    <div style="margin-bottom:0.5rem;">CONTACT FOR NEW ACCOUNT</div>
    <a href="https://wa.me/917353547650" target="_blank" class="whatsapp-link">
      <i class="fab fa-whatsapp"></i> WhatsApp +917353547650
    </a>
    <div style="margin-top:0.8rem;">
      <i class="fas fa-phone-alt" style="color:#38bdf8;"></i> <strong style="color:#38bdf8;">OR CALL</strong> +917353547650
    </div>
  </div>

  <div class="disclaimer">
    <strong style="color:#38bdf8;">-DISCLAIMER:-</strong> Visiting this site and browsing it is strictly recommended at your own risk. Every information available here is only according to informational purpose and based on astrology and number calculations. We are no associated or affiliated with any illegal Matka business. We make sure we follow all rules and regulations of the regions where you are accessing the website. There are also chances that the website may be banned in your area and after that if you are using it, you are solely dependable and responsible for any damage, loss or legal action taken. If you are the one who does not like our disclaimer it is advised that you leave our website immediately. Copying of any information/contents posted on the website is strictly prohibited and against the law.
  </div>
  <div class="extra-refresh" style="justify-content:center; margin-top:1rem;">
    <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH PAGE</button>
  </div>
</div>

<!-- DASHBOARD PAGE (2) -->
<div id="dashboard-page" class="page">
  <div class="extra-refresh">
    <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
  </div>
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <h2 style="margin:0; font-size:2rem;">DASHBOARD</h2>
    <div style="text-align:right;">
      <span id="live-date" style="display:block; font-size:0.75rem; color:#94a3b8;"></span>
      <span id="live-time" style="font-weight:600; color:#38bdf8; font-size:1.1rem;"></span>
    </div>
  </div>
  <div class="logo-banner">
    <img src="https://i.supaimg.com/d026f774-60e1-4925-88e1-75281544a80e/c33ecce6-da20-4047-a0ce-df100fbd6657.png" alt="Ganesh Logo">
  </div>

  <div class="big-image">
    <img src="https://i.supaimg.com/d026f774-60e1-4925-88e1-75281544a80e/e6d32229-8638-4d0d-8168-0ecf26c97511.jpg" alt="Dashboard 1">
  </div>
  <div class="big-image">
    <img src="https://i.supaimg.com/d026f774-60e1-4925-88e1-75281544a80e/a3bf0825-c851-401d-b7e6-4b2e27fb9fb9.jpg" alt="Dashboard 2">
  </div>

  <div class="market-list">
    <div class="market-item" data-market="sridevi">Sridevi <span class="market-time">10:00 AM</span></div>
    <div class="market-item" data-market="timebazar">Time Bazar <span class="market-time">12:00 PM</span></div>
    <div class="market-item" data-market="milanday">Milan Day <span class="market-time">2:00 PM</span></div>
    <div class="market-item" data-market="kalyan">Kalyan <span class="market-time">2:30 PM</span></div>
    <div class="market-item" data-market="sridevinight">Sridevi Night <span class="market-time">6:00 PM</span></div>
    <div class="market-item" data-market="milannight">Milan Night <span class="market-time">8:00 PM</span></div>
    <div class="market-item" data-market="mainbazar">Main Bazar <span class="market-time">8:30 PM</span></div>
  </div>

  <div class="notice" id="dashboard-notice">
    <strong style="color:#38bdf8;">üì¢ NOTICE BOARD</strong><br>
  </div>

  <button class="btn btn-small" id="goto-subscription">SUBSCRIPTION</button>
  <div class="nav-bar">
    <button class="nav-btn" id="goto-markets"><i class="fas fa-list"></i> MARKETS</button>
    <button class="nav-btn" id="goto-profile"><i class="fas fa-user"></i> PROFILE</button>
  </div>
  <div class="nav-bar" style="margin-top:0.5rem;">
    <button class="nav-btn" id="refresh-dash-bottom"><i class="fas fa-sync-alt"></i> REFRESH</button>
    <button class="nav-btn" id="logout"><i class="fas fa-sign-out-alt"></i> LOGOUT</button>
  </div>
  <div class="extra-refresh" style="justify-content:center; margin-top:0.5rem;">
    <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH PAGE</button>
  </div>
</div>

<!-- MARKETS PAGE (3) -->
<div id="markets-page" class="page">
  <div class="extra-refresh">
    <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
  </div>
  <h2>üìä MARKETS</h2>
  <div class="market-list">
    <div class="market-item" data-market="kalyan">KALYAN <span class="market-time">2:30 PM</span></div>
    <div class="market-item" data-market="sridevi">SRIDEVI <span class="market-time">10:00 AM</span></div>
    <div class="market-item" data-market="timebazar">TIME BAZAR <span class="market-time">12:00 PM</span></div>
    <div class="market-item" data-market="milanday">MILAN DAY <span class="market-time">2:00 PM</span></div>
    <div class="market-item" data-market="sridevinight">SRIDEVI NIGHT <span class="market-time">6:00 PM</span></div>
    <div class="market-item" data-market="milannight">MILAN NIGHT <span class="market-time">8:00 PM</span></div>
    <div class="market-item" data-market="mainbazar">MAIN BAZAR <span class="market-time">8:30 PM</span></div>
  </div>
  <div class="notice" id="markets-notice">
    <strong style="color:#38bdf8;">üì¢ NOTICE BOARD</strong><br>
  </div>
  <div class="nav-bar">
    <button class="nav-btn" id="back-to-dash"><i class="fas fa-arrow-left"></i> BACK</button>
    <button class="nav-btn" id="refresh-markets-bottom"><i class="fas fa-sync-alt"></i> REFRESH</button>
  </div>
  <div class="extra-refresh" style="justify-content:center; margin-top:0.5rem;">
    <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH PAGE</button>
  </div>
    </div>
      <!-- SUBSCRIPTION PAGE (4) -->
  <div id="subscription-page" class="page">
    <div class="extra-refresh">
      <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
    </div>
    <div class="big-image">
      <img id="sub-top-img" src="https://i.supaimg.com/d026f774-60e1-4925-88e1-75281544a80e/f94bbdd7-fa3c-4791-a387-18bd057b2868.jpg" alt="Top">
    </div>

    <h2>SUBSCRIPTION</h2>
    <div style="text-align:center;">
      <div class="plan-box">
        <div class="plan" id="plan-1day">1 day<br>‚Çπ1100</div>
        <div class="plan" id="plan-1week">1 week<br>‚Çπ5100</div>
      </div>
      <p style="color:#94a3b8;">Select plan and scan QR to pay</p>

      <img src="https://i.supaimg.com/d026f774-60e1-4925-88e1-75281544a80e/0e62c615-2776-42a3-99b4-252c5fb435c1.png" alt="QR Code" class="qr-image" id="qr-code-img">

      <p style="font-size:0.85rem; color:#94a3b8;">Scan via PhonePe, GPay, Paytm, any UPI</p>

      <div id="timer-container" style="display: none;">
        <div class="timer-message" id="timer-message"></div>
      </div>

      <div class="contact-card" style="margin-top:1.5rem;">
        <div>üì≤ SEND PAYMENT SCREENSHOT</div>
        <div style="font-size:0.8rem;">and wait few minutes to verify</div>
        <a href="#" class="whatsapp-link" id="payment-whatsapp"><i class="fab fa-whatsapp"></i> WhatsApp +917353547650</a>
        <div style="margin-top:0.5rem;">Or Telegram: 
          <a href="tg://resolve?domain=rudrakshank" style="color:#38bdf8;">Open in App</a> | 
          <a href="https://t.me/rudrakshank" style="color:#38bdf8;">Web</a>
        </div>
      </div>
    </div>

    <div class="nav-bar">
      <button class="nav-btn" id="back-from-sub"><i class="fas fa-arrow-left"></i> BACK</button>
      <button class="nav-btn" id="paid-btn">I HAVE PAID</button>
    </div>

    <div class="big-image">
      <img id="sub-bottom-img" src="https://i.supaimg.com/d026f774-60e1-4925-88e1-75281544a80e/c33ecce6-da20-4047-a0ce-df100fbd6657.png" alt="Bottom">
    </div>
    <div class="extra-refresh" style="justify-content:center; margin-top:1rem;">
      <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH PAGE</button>
    </div>
  </div>

  <!-- PROFILE PAGE (5) -->
  <div id="profile-page" class="page">
    <div class="extra-refresh">
      <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
    </div>
    <h2>PROFILE</h2>
    <div class="profile-info">
      <i class="fas fa-user-circle" style="font-size:4rem; color:#38bdf8; margin-bottom:1rem;"></i>
      <div id="profile-mobile" style="font-size:1.2rem; font-weight:600; margin-bottom:0.5rem;">-</div>
      <div id="profile-status" style="color:#94a3b8;">Subscription: <span id="sub-status">Inactive</span></div>
    </div>
    <div class="info-grid">
      <div class="info-item"><i class="fas fa-calendar-alt"></i> <span id="profile-join">-</span></div>
      <div class="info-item"><i class="fas fa-history"></i> Last active: today</div>
    </div>
    <div class="nav-bar">
      <button class="nav-btn" id="back-from-profile"><i class="fas fa-arrow-left"></i> BACK</button>
      <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
    </div>
    <div class="extra-refresh" style="justify-content:center; margin-top:0.5rem;">
      <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH PAGE</button>
    </div>
  </div>

  <!-- INFO / CONTACT PAGE (6) -->
  <div id="info-page" class="page">
    <div class="extra-refresh">
      <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
    </div>
    <h2>INFO</h2>
    <div class="info-grid">
      <div class="info-item"><i class="fas fa-phone-alt"></i> +91 7353547650</div>
      <div class="info-item"><i class="fab fa-whatsapp"></i> +91 7353547650</div>
      <div class="info-item"><i class="fab fa-telegram"></i> @rudrakshank</div>
      <div class="info-item"><i class="fas fa-globe"></i> www.ganeshmatka.com</div>
    </div>
    <div class="notice" style="margin-top:1.5rem;">
      <strong style="color:#38bdf8;">üì¢ ABOUT</strong><br>
      GANESH is a premium matka guessing platform. All results are based on astrological calculations. We are not affiliated with any illegal business.
    </div>
    <div class="nav-bar">
      <button class="nav-btn" id="back-from-info"><i class="fas fa-arrow-left"></i> BACK</button>
      <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
    </div>
    <div class="extra-refresh" style="justify-content:center; margin-top:0.5rem;">
      <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH PAGE</button>
    </div>
  </div>
</div> <!-- end #app -->
  <!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

<!-- Load market data from separate file -->
<script src="market-data.js"></script>

<script>
  // üî• YOUR FIREBASE CONFIG
  const firebaseConfig = {
    apiKey: "AIzaSyC7mxOFOYebaxV8dAwpfP7a_Ayq7TAIbds",
    authDomain: "fixgame-fa24c.firebaseapp.com",
    projectId: "fixgame-fa24c",
    storageBucket: "fixgame-fa24c.firebasestorage.app",
    messagingSenderId: "242917437907",
    appId: "1:242917437907:web:ee29a01f9290cf6b6c7f26",
    measurementId: "G-ZFB6GN6PX7"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  // Use external market config
  const config = marketConfig;

  // Helper functions
  function showPage(pageId) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
  }

  function loadMarketDetail(marketKey) {
    const market = config.markets[marketKey];
    if (!market) return;
    document.getElementById('detail-title').innerText = market.name;
    const grid = document.getElementById('detail-grid');
    grid.innerHTML = '';
    ['otc','support','jodi','pannel'].forEach(key => {
      const card = document.createElement('div');
      card.className = 'detail-card';
      card.innerHTML = `<h4>${market.labels[key]}</h4><div class="detail-numbers">${market.numbers[key]}</div>`;
      grid.appendChild(card);
    });
  }

  function updateDateTime() {
    const now = new Date();
    const dateEl = document.getElementById('live-date');
    const timeEl = document.getElementById('live-time');
    if (dateEl) dateEl.innerText = now.toLocaleDateString('en-IN', { day:'2-digit', month:'short', year:'numeric' }).toUpperCase();
    if (timeEl) timeEl.innerText = now.toLocaleTimeString('en-IN', { hour:'2-digit', minute:'2-digit', second:'2-digit' });
  }
  setInterval(updateDateTime, 1000);

  function applyMarketTimesAndNotices() {
    document.querySelectorAll('.market-item[data-market]').forEach(el => {
      const key = el.getAttribute('data-market');
      if (config.markets[key]) {
        const timeSpan = el.querySelector('.market-time');
        if (timeSpan) timeSpan.innerText = config.markets[key].time;
      }
    });
    document.querySelectorAll('.notice').forEach(el => {
      el.innerHTML = `<strong style="color:#38bdf8;">üì¢ NOTICE BOARD</strong><br>${config.noticeBoard.replace(/\n/g,'<br>')}`;
    });
  }

  async function ensureUserDocument(user) {
    if (!user) return null;
    const userRef = db.collection('users').doc(user.uid);
    const doc = await userRef.get();
    if (!doc.exists) {
      const mobile = user.email ? user.email.replace('@matka.com','') : '';
      await userRef.set({ mobile, subscriptionActive: false, createdAt: firebase.firestore.FieldValue.serverTimestamp() });
      return { subscriptionActive: false };
    } else {
      return doc.data();
    }
  }

  // Timer variables
  let timerInterval = null;
  let timerEndTime = null;
  const TIMER_DURATION = 10 * 60 * 1000;

  function startTimer() {
    const timerContainer = document.getElementById('timer-container');
    const timerMessage = document.getElementById('timer-message');
    if (!timerContainer || !timerMessage) return;
    if (timerInterval) clearInterval(timerInterval);
    timerEndTime = Date.now() + TIMER_DURATION;
    timerContainer.style.display = 'block';
    document.getElementById('paid-btn').disabled = true;

    timerInterval = setInterval(async () => {
      const remaining = timerEndTime - Date.now();
      if (remaining <= 0) {
        clearInterval(timerInterval); timerInterval = null;
        timerContainer.style.display = 'none';
        document.getElementById('paid-btn').disabled = false;
        alert('Payment verification timeout. Try again.');
        return;
      }
      const mins = Math.floor(remaining/60000);
      const secs = Math.floor((remaining%60000)/1000);
      timerMessage.innerText = `‚è≥ Verifying... ${mins}:${secs<10?'0':''}${secs}`;

      const user = auth.currentUser;
      if (user) {
        const doc = await db.collection('users').doc(user.uid).get();
        if (doc.exists && doc.data().subscriptionActive) {
          clearInterval(timerInterval); timerInterval = null;
          timerContainer.style.display = 'none';
          document.getElementById('paid-btn').disabled = false;
          alert('Payment verified!');
          showPage('dashboard-page');
        }
      }
    }, 5000);
  }

  // Toast for reload
  function showReloadToast() {
    const toast = document.getElementById('toast');
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 2000);
  }
  window.addEventListener('pageshow', (event) => {
    if (event.persisted || performance.getEntriesByType('navigation')[0]?.type === 'reload') {
      showReloadToast();
    }
  });
  // Also show on first load? Let's show on every load.
  showReloadToast();

  // Loading screen
  if (!document.getElementById('loading-screen')) {
    const ld = document.createElement('div');
    ld.id = 'loading-screen';
    ld.style.cssText = 'position:fixed; top:0; left:0; width:100%; height:100%; background:#030712; display:flex; align-items:center; justify-content:center; z-index:9999; transition:opacity 0.3s;';
    ld.innerHTML = '<div style="text-align:center; color:#38bdf8;"><div style="font-size:3rem; margin-bottom:1rem;">üïâÔ∏è</div><div style="font-weight:300;">loading GANESH ...</div></div>';
    document.body.appendChild(ld);
  }
  function hideLoading() {
    const loader = document.getElementById('loading-screen');
    if (loader) { loader.style.opacity = '0'; setTimeout(() => loader.remove(), 300); }
  }
      // Back button handling
    let backPressedOnce = false;
    window.addEventListener('popstate', (e) => {
      const cur = document.querySelector('.page.active').id;
      if (cur === 'login-page') {
        if (backPressedOnce) { if (confirm('Exit app?')) window.history.back(); }
        else { backPressedOnce = true; alert('Press back again to exit'); setTimeout(() => backPressedOnce = false, 2000); history.pushState({},''); }
      } else {
        if (cur === 'markets-page') showPage('dashboard-page');
        else if (cur === 'detail-page') showPage('markets-page');
        else if (cur === 'subscription-page') {
          if (timerInterval) { clearInterval(timerInterval); timerInterval = null; document.getElementById('timer-container').style.display = 'none'; document.getElementById('paid-btn').disabled = false; }
          showPage('dashboard-page');
        } else if (cur === 'profile-page') showPage('dashboard-page');
        else if (cur === 'info-page') showPage('dashboard-page');
        else window.history.back();
      }
    });
    history.pushState({}, '');

    // Event listeners
    document.addEventListener('DOMContentLoaded', function() {
      applyMarketTimesAndNotices();
      updateDateTime();

      // Refresh buttons
      document.getElementById('refresh-dash-bottom')?.addEventListener('click', () => location.reload());
      document.getElementById('refresh-markets-bottom')?.addEventListener('click', () => location.reload());

      // Login
      document.getElementById('login-btn').addEventListener('click', (e) => {
        e.preventDefault();
        const mobile = document.getElementById('mobile').value.trim();
        const pw = document.getElementById('password').value.trim();
        const err = document.getElementById('login-error');
        if (!mobile || !pw) {
          err.style.display = 'block'; err.innerText = 'Enter mobile & password'; return;
        }
        auth.signInWithEmailAndPassword(mobile+'@matka.com', pw)
          .then(() => err.style.display = 'none')
          .catch(e => {
            err.style.display = 'block';
            if (e.code === 'auth/user-not-found' || e.code === 'auth/wrong-password')
              err.innerText = 'Invalid mobile or password';
            else err.innerText = 'Login failed';
          });
      });

      // Logout
      document.getElementById('logout').addEventListener('click', () => auth.signOut());

      // Paid button
      document.getElementById('paid-btn').addEventListener('click', async () => {
        const user = auth.currentUser;
        if (!user) return alert('Login required');
        let plan = '1 day';
        if (document.getElementById('plan-1week').classList.contains('selected')) plan = '1 week';
        else if (!document.getElementById('plan-1day').classList.contains('selected')) return alert('Select plan');
        try {
          const data = await ensureUserDocument(user);
          const mobile = data.mobile || user.email.split('@')[0];
          const msg = `PAYMENT REQUEST%0AMobile: ${mobile}%0APlan: ${plan}%0AUID: ${user.uid}`;
          window.open(`https://wa.me/${config.adminWhatsApp.replace(/\D/g,'')}?text=${msg}`, '_blank');
          startTimer();
          alert('WhatsApp opened. Send screenshot.');
        } catch (er) { alert('Error'); }
      });

      // Plan selection
      document.getElementById('plan-1day').addEventListener('click', function() {
        document.querySelectorAll('.plan').forEach(p => p.classList.remove('selected'));
        this.classList.add('selected');
      });
      document.getElementById('plan-1week').addEventListener('click', function() {
        document.querySelectorAll('.plan').forEach(p => p.classList.remove('selected'));
        this.classList.add('selected');
      });

      // Navigation
      document.getElementById('goto-subscription').addEventListener('click', () => showPage('subscription-page'));
      document.getElementById('goto-markets').addEventListener('click', () => showPage('markets-page'));
      document.getElementById('goto-profile').addEventListener('click', () => showPage('profile-page'));
      document.getElementById('back-from-sub').addEventListener('click', () => {
        if (timerInterval) { clearInterval(timerInterval); timerInterval = null; document.getElementById('timer-container').style.display = 'none'; document.getElementById('paid-btn').disabled = false; }
        showPage('dashboard-page');
      });
      document.getElementById('back-from-profile').addEventListener('click', () => showPage('dashboard-page'));
      document.getElementById('back-from-info').addEventListener('click', () => showPage('dashboard-page'));
      document.getElementById('back-to-dash').addEventListener('click', () => showPage('dashboard-page'));

      // Market clicks
      document.querySelectorAll('.market-item').forEach(el => {
        el.addEventListener('click', async (e) => {
          const key = e.currentTarget.getAttribute('data-market');
          if (!key) return;
          const user = auth.currentUser;
          if (!user) return showPage('login-page');
          try {
            const data = await ensureUserDocument(user);
            if (data.subscriptionActive) {
              // We need a detail page ‚Äì but we haven't included it in this multi‚Äëpage version. 
              // For brevity, we'll just show markets-page with a message. 
              // In a full app you'd have a detail page. Let's add a simple detail page.
              // Actually we already have a detail-page div that we didn't include in parts. Let's quickly add it.
              // But to keep parts clean, we'll create a detail page container inside markets-page? 
              // Better to have a separate detail page. I'll insert it here in code.
              if (!document.getElementById('detail-page')) {
                const dp = document.createElement('div');
                dp.id = 'detail-page';
                dp.className = 'page';
                dp.innerHTML = `
                  <div class="extra-refresh"><button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button></div>
                  <h2 id="detail-title">KALYAN</h2>
                  <div class="detail-grid" id="detail-grid"></div>
                  <div class="nav-bar">
                    <button class="nav-btn" id="back-to-markets"><i class="fas fa-arrow-left"></i> BACK</button>
                    <button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH</button>
                  </div>
                  <div class="extra-refresh" style="justify-content:center; margin-top:0.5rem;"><button class="nav-btn" onclick="location.reload()"><i class="fas fa-sync-alt"></i> REFRESH PAGE</button></div>
                `;
                document.getElementById('app').appendChild(dp);
                document.getElementById('back-to-markets').addEventListener('click', () => showPage('markets-page'));
              }
              loadMarketDetail(key);
              showPage('detail-page');
            } else {
              alert('Subscription not active. Contact admin.');
              showPage('subscription-page');
            }
          } catch { showPage('subscription-page'); }
        });
      });

      // Auth observer
      let authInit = false;
      auth.onAuthStateChanged(async user => {
        if (!authInit) authInit = true;
        if (!user && timerInterval) {
          clearInterval(timerInterval); timerInterval = null;
          document.getElementById('timer-container').style.display = 'none';
          document.getElementById('paid-btn').disabled = false;
        }
        if (user) {
          try {
            const data = await ensureUserDocument(user);
            // update profile page
            document.getElementById('profile-mobile').innerText = data.mobile || 'N/A';
            document.getElementById('sub-status').innerText = data.subscriptionActive ? 'Active' : 'Inactive';
            if (data.createdAt) {
              const d = data.createdAt.toDate ? data.createdAt.toDate() : new Date();
              document.getElementById('profile-join').innerText = d.toLocaleDateString();
            }
            showPage(data.subscriptionActive ? 'dashboard-page' : 'subscription-page');
          } catch { showPage('subscription-page'); }
        } else showPage('login-page');
        if (authInit) hideLoading();
      });
      setTimeout(hideLoading, 3000);
    });
  </script>
</body>
</html>
